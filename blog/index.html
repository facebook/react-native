<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Blog · React Native</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Blog · React Native"/><meta property="og:type" content="website"/><meta property="og:url" content="https://facebook.github.io/react-native/index.html"/><meta property="og:description" content="A framework for building native apps using React"/><link rel="shortcut icon" href="/react-native/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css"/><link rel="alternate" type="application/atom+xml" href="https://facebook.github.io/blog/atom.xml" title="React Native Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://facebook.github.io/blog/feed.xml" title="React Native Blog RSS Feed"/><script type="text/javascript" src="https://snack.expo.io/embed.js"></script><script type="text/javascript" src="/react-native/js/codeblocks.js"></script><link rel="stylesheet" href="/react-native/css/main.css"/></head><body><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/react-native/"><img class="logo" src="/react-native/img/header_logo.png"/><h2 class="headerTitle">React Native</h2></a><a href="/react-native/versions.html"><h3>0.52-RC</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/react-native/docs/getting-started.html" target="_self">Docs</a></li><li><a href="/react-native/en/help.html" target="_self">Community</a></li><li><a href="/react-native/blog" target="_self">Blog</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/facebook/react-native" target="_self">GitHub</a></li><li><a href="https://reactjs.org/" target="_self">React</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Recent Posts</h3><ul><li class="navListItem"><a class="navItem" href="/react-native/blog/2017/11/06/react-native-monthly-5.html">React Native Monthly #5</a></li><li class="navListItem"><a class="navItem" href="/react-native/blog/2017/09/21/react-native-monthly-4.html">React Native Monthly #4</a></li><li class="navListItem"><a class="navItem" href="/react-native/blog/2017/08/30/react-native-monthly-3.html">React Native Monthly #3</a></li><li class="navListItem"><a class="navItem" href="/react-native/blog/2017/08/07/react-native-performance-in-marketplace.html">React Native Performance in Marketplace</a></li><li class="navListItem"><a class="navItem" href="/react-native/blog/2017/07/28/react-native-monthly-2.html">React Native Monthly #2</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer blogContainer"><div class="wrapper"><div class="posts"><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/11/06/react-native-monthly-5.html">React Native Monthly #5</a></h1><p class="post-meta">November 6, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/tenodi" target="_blank">Tomislav Tenodi</a>Founder at Speck</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/tenodi" target="_blank"><img src="https://pbs.twimg.com/profile_images/877237660225609729/bKFDwfAq.jpg"/></a></div></div></header><article class="post-content"><div><span><p>The React Native monthly meeting continues! Let's see what our teams are up to.</p>
<h3><a class="anchor" aria-hidden="true" name="callstack"></a><a href="#callstack" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callstack</h3>
<ul>
<li>We’ve been working on React Native CI. Most importantly, we have migrated from Travis to Circle, leaving React Native with a single, unified CI pipeline.</li>
<li>We’ve organised <a href="https://blog.callstack.io/announcing-hacktoberfest-7313ea5ccf4f">Hacktoberfest - React Native edition</a> where, together with attendees, we tried to submit many pull requests to open source projects.</li>
<li>We keep working on <a href="https://github.com/callstack/haul">Haul</a>. Last month, we have submitted two new releases, including Webpack 3 support. We plan to add <a href="https://github.com/react-community/create-react-native-app">CRNA</a> and <a href="https://github.com/expo/expo">Expo</a> support as well as work on better HMR. Our roadmap is public on the issue tracker. If you would like to suggest improvements or give feedback, let us know!</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="expo"></a><a href="#expo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expo</h3>
<ul>
<li>Released <a href="https://blog.expo.io/expo-sdk-v22-0-0-is-now-available-7745bfe97fc6">Expo SDK 22</a> (using React Native 0.49) and updated <a href="https://github.com/react-community/create-react-native-app">CRNA</a> for it.
<ul>
<li>Includes improved splash screen API, basic ARKit support, “DeviceMotion” API, SFAuthenticationSession support on iOS11, and <a href="https://blog.expo.io/expo-sdk-v22-0-0-is-now-available-7745bfe97fc6">more</a>.</li>
</ul></li>
<li>Your <a href="https://snack.expo.io">snacks</a> can now have multiple JavaScript files and you can upload images and other assets by just dragging them into the editor.</li>
<li>Contribute to <a href="https://github.com/react-community/react-navigation">react-navigation</a> to add support for iPhone X.</li>
<li>Focus our attention on rough edges when building large applications with Expo. For example:
<ul>
<li>First-class support for deploying to multiple environments: staging, production, and arbitrary channels. Channels will support rolling back and setting the active release for a given channel. Let us know if you want to be an early tester, <a href="https://twitter.com/expo_io">@expo_io</a>.</li>
<li>We are also working on improving our standalone app building infrastructure and adding support for bundling images and other non-code assets in standalone app builds while keeping the ability to update assets over the air.</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="facebook"></a><a href="#facebook" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Facebook</h3>
<ul>
<li>Better RTL support:
<ul>
<li>We’re introducing a number of direction-aware styles.
<ul>
<li>Position:
<ul>
<li>(left|right) → (start|end)</li>
</ul></li>
<li>Margin:
<ul>
<li>margin(Left|Right) → margin(Start|End)</li>
</ul></li>
<li>Padding:
<ul>
<li>padding(Left|Right) → padding(Start|End)</li>
</ul></li>
<li>Border:
<ul>
<li>borderTop(Left|Right)Radius → borderTop(Start|End)Radius</li>
<li>borderBottom(Left|Right)Radius → borderBottom(Start|End)Radius</li>
<li>border(Left|Right)Width → border(Start|End)Width</li>
<li>border(Left|Right)Color → border(Start|End)Color</li>
</ul></li>
</ul></li>
<li>The meaning of “left” and “right” were swapped in RTL for position, margin, padding, and border styles. Within a few months, we’re going to remove this behaviour and make “left” always mean “left,” and “right” always mean “right”. The breaking changes are hidden under a flag. Use <code>I18nManager.swapLeftAndRightInRTL(false)</code> in your React Native components to opt into them.</li>
</ul></li>
<li>Working on <a href="https://github.com/facebook/flow">Flow</a> typing our internal native modules and using those to generate interfaces in Java and protocols in ObjC that the native implementations must implement. We hope this codegen becomes open source next year, at the earliest.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="infinite-red"></a><a href="#infinite-red" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Infinite Red</h3>
<ul>
<li>New OSS tool for helping React Native and other projects. More <a href="https://shift.infinite.red/solidarity-the-cli-for-developer-sanity-672fa81b98e9">here</a>.</li>
<li>Revamping <a href="https://github.com/infinitered/ignite">Ignite</a> for a new boilerplate release (Code name: Bowser)</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="shoutem"></a><a href="#shoutem" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shoutem</h3>
<ul>
<li>Improving the development flow on Shoutem. We want to streamline the process from creating an app to first custom screen and make it really easy, thus lowering the barrier for new React Native developers. Prepared a few workshops to test out new features. We also improved <a href="https://github.com/shoutem/cli">Shoutem CLI</a> to support new flows.</li>
<li><a href="https://github.com/shoutem/ui">Shoutem UI</a> received a few component improvements and bugfixes. We also checked compatibility with latest React Native versions.</li>
<li>Shoutem platform received a few notable updates, new integrations are available as part of the <a href="https://github.com/shoutem/extensions">open-source extensions project</a>. We are really excited to see active development on Shoutem extensions from other developers. We actively contact and offer advice and guidance about their extensions.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="next-session"></a><a href="#next-session" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next session</h2>
<p>The next session is scheduled for Wednesday 6, December 2017. Feel free to ping me <a href="https://twitter.com/TomislavTenodi">on Twitter</a> if you have any suggestion on how we should improve the output of the meeting.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/09/21/react-native-monthly-4.html">React Native Monthly #4</a></h1><p class="post-meta">September 21, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/grabbou" target="_blank">Mike Grabowski</a>CTO at Callstack</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/grabbou" target="_blank"><img src="https://pbs.twimg.com/profile_images/836150188725121024/NkU0AcqW_400x400.jpg"/></a></div></div></header><article class="post-content"><div><span><p>The React Native monthly meeting continues! Here are the notes from each team:</p>
<h3><a class="anchor" aria-hidden="true" name="callstack"></a><a href="#callstack" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callstack</h3>
<ul>
<li><a href="https://react-native.eu">React Native EU</a> is over. More than 300 participants from 33 countries have visited Wroclaw. Talks can be found <a href="https://www.youtube.com/channel/UCUNE_g1mQPuyW975WjgjYxA/videos">on Youtube</a>.</li>
<li>We are slowly getting back to our open source schedule after the conference. One thing worth mentioning is that we are working on a next release of <a href="https://github.com/callstack/react-native-opentok">react-native-opentok</a> that fixes most of the existing issues.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="geekyants"></a><a href="#geekyants" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GeekyAnts</h3>
<p>Trying to lower the entry barrier for the developers embracing React Native with the following things:</p>
<ul>
<li>Announced <a href="https://builderx.io/">BuilderX.io</a> at <a href="https://react-native.eu">React Native EU</a>. BuilderX is a design tool that directly works with JavaScript files (only React Native is supported at the moment) to generate beautiful, readable, and editable code.</li>
<li>Launched <a href="http://reactnativeseed.com/">ReactNativeSeed.com</a> which provides a set of boilerplates for your next React Native project. It comes with a variety of options that include TypeScript &amp; Flow for data-types, MobX, Redux, and mobx-state-tree for state-management with CRNA and plain React-Native as the stack.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="expo"></a><a href="#expo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expo</h3>
<ul>
<li>Will release SDK 21 shortly, which adds support for react-native 0.48.3 and a bunch of bugfixes/reliability improvements/new features in the Expo SDK, including video recording, a new splash screen API, support for <code>react-native-gesture-handler</code>, and improved error handling.</li>
<li>Re: <a href="https://github.com/kmagiera/react-native-gesture-handler">react-native-gesture-handler</a>, <a href="https://github.com/kmagiera">Krzysztof Magiera</a> of <a href="http://swmansion.com/">Software Mansion</a> continues pushing this forward and we've been helping him with testing it and funding part of his development time. Having this integrated in Expo in SDK21 will allow people to play with it easily in Snack, so we're excited to see what people come up with.</li>
<li>Re: improved error logging / handling - see <a href="https://gist.github.com/brentvatne/00407710a854627aa021fdf90490b958">this gist of an internal Expo PR</a> for details on logging, (in particular, &quot;Problem 2&quot;), and <a href="https://github.com/expo/xdl/commit/1d62eca293dfb867fc0afc920c3dad94b7209987">this commit</a> for a change that handles failed attempts to import npm standard library modules. There is plenty of opportunity to improve error messages upstream in React Native in this way and we will work on follow up upstream PRs. It would be great for the community to get involved too.</li>
<li><a href="http://native.directory/">native.directory</a> continues to grow, you can add your projects from <a href="https://github.com/react-community/native-directory">the Github repo</a>.</li>
<li>Visit hackathons around North America, including <a href="http://pennapps.com/">PennApps</a>, <a href="http://hackthenorth.com/">Hack The North</a>, <a href="https://hackmit.org/">HackMIT</a>, and soon <a href="https://mhacks.org/">MHacks</a>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="facebook"></a><a href="#facebook" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Facebook</h3>
<ul>
<li>Working on improving <code>&lt;Text&gt;</code> and <code>&lt;TextInput&gt;</code> components on Android. (Native auto-growing for <code>&lt;TextInput&gt;</code>; deeply nested <code>&lt;Text&gt;</code> components layout issues; better code structure; performance optimizations).</li>
<li>We're still looking for additional contributors who would like to help <a href="https://facebook.github.io/react-native/maintainers.md#facebook-github-bot">triage issues and pull requests</a>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="microsoft"></a><a href="#microsoft" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Microsoft</h3>
<ul>
<li>Released Code Signing feature for CodePush. React Native developers are now able to sign their application bundles in CodePush. The announcement can be found <a href="http://microsoft.github.io/code-push/articles/CodeSigningAnnouncement.html">here</a></li>
<li>Working on completing integration of CodePush to Mobile Center. Considering test/crash integration as well.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="next-session"></a><a href="#next-session" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next session</h2>
<p>The next session is scheduled for Wednesday 10, October 2017. As this was only our fourth meeting, we'd like to know how do these notes benefit the React Native community. Feel free to ping me <a href="https://twitter.com/grabbou">on Twitter</a> if you have any suggestion on how we should improve the output of the meeting.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/08/30/react-native-monthly-3.html">React Native Monthly #3</a></h1><p class="post-meta">August 30, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/grabbou" target="_blank">Mike Grabowski</a>CTO at Callstack</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/grabbou" target="_blank"><img src="https://pbs.twimg.com/profile_images/836150188725121024/NkU0AcqW_400x400.jpg"/></a></div></div></header><article class="post-content"><div><span><p>The React Native monthly meeting continues! This month's meeting was a bit shorter as most of our teams were busy shipping. Next month, we are at <a href="https://react-native.eu/">React Native EU</a> conference in Wroclaw, Poland. Make sure to grab a ticket and see you there in person! Meanwhile, let's see what our teams are up to.</p>
<h2><a class="anchor" aria-hidden="true" name="teams"></a><a href="#teams" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Teams</h2>
<p>On this third meeting, we had 5 teams join us:</p>
<ul>
<li><a href="https://github.com/callstack-io">Callstack</a></li>
<li><a href="https://github.com/expo">Expo</a></li>
<li><a href="https://github.com/facebook">Facebook</a></li>
<li><a href="https://github.com/microsoft">Microsoft</a></li>
<li><a href="https://github.com/shoutem">Shoutem</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="notes"></a><a href="#notes" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notes</h2>
<p>Here are the notes from each team:</p>
<h3><a class="anchor" aria-hidden="true" name="callstack"></a><a href="#callstack" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callstack</h3>
<ul>
<li>Recently open sourced <a href="https://github.com/callstack-io/react-native-material-palette"><code>react-native-material-palette</code></a>. It extracts prominent colors from images to help you create visually engaging apps. It's Android only at the moment, but we are looking into adding support for iOS in the future.</li>
<li>We have landed HMR support into <a href="https://github.com/callstack-io/haul"><code>haul</code></a> and a bunch of other, cool stuff! Check out latest releases.</li>
<li>React Native EU 2017 is coming! Next month is all about React Native and Poland! Make sure to grab last tickets available <a href="https://react-native.eu/">here</a>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="expo"></a><a href="#expo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expo</h3>
<ul>
<li>Released support for installing npm packages on <a href="https://snack.expo.io">Snack</a>. Usual Expo restrictions apply -- packages can't depend on custom native APIs that aren't already included in Expo. We are also working on supporting multiple files and uploading assets in Snack. <a href="https://github.com/satya164">Satyajit</a> will talk about Snack at <a href="https://react-native.eu/">React Native Europe</a>.</li>
<li>Released SDK20 with camera, payments, secure storage, magnetometer, pause/resume fs downloads, and improved splash/loading screen.</li>
<li>Continuing to work with <a href="https://github.com/kmagiera">Krzysztof</a> on <a href="https://github.com/kmagiera/react-native-gesture-handler">react-native-gesture-handler</a>. Please give it a try, rebuild some gesture that you have previously built using PanResponder or native gesture recognizers and let us know what issues you encounter.</li>
<li>Experimenting with JSC debugging protocol, working on a bunch of feature requests on <a href="https://expo.canny.io/feature-requests">Canny</a>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="facebook"></a><a href="#facebook" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Facebook</h3>
<ul>
<li>Last month we discussed management of the GitHub issue tracker and that we would try to make improvements to address the maintainability of the project.</li>
<li>Currently, the number of open issues is holding steady at around 600, and it seems like it may stay that way for a while. In the past month, we have closed 690 issues due to lack of activity (defined as no comments in the last 60 days). Out of those 690 issues, 58 were re-opened for a variety of reasons (a maintainer committed to providing a fix, or a contributor made a great case for keeping the issue open).</li>
<li>We plan to continue with the automated closing of stale issues for the foreseeable future. We’d like to be in a state where every impactful issue opened in the tracker is acted upon, but we’re not there yet. We need all the help we can from maintainers to triage issues and make sure we don't miss issues that introduce regressions or introduce breaking changes, especially those that affect newly created projects. People interested in helping out can use the Facebook GitHub Bot to triage issues and pull requests. The new <a href="https://facebook.github.io/react-native/maintainers.md">Maintainers Guide</a> contains more information on triage and use of the GitHub Bot. Please add yourself to the <a href="https://github.com/facebook/react-native/blob/master/bots/IssueCommands.txt">issue task force</a> and encourage other active community members to do the same!</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="microsoft"></a><a href="#microsoft" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Microsoft</h3>
<ul>
<li>The new Skype app is built on top of React Native in order to facilitate sharing as much code between platforms as possible. The React Native-based Skype app is currently available in the iOS and Android app stores.</li>
<li>While building the Skype app on React Native, we send pull requests to React Native in order to address bugs and missing features that we come across. So far, we've gotten about <a href="https://github.com/facebook/react-native/pulls?utf8=%E2%9C%93&amp;q=is%3Apr%20author%3Arigdern%20">70 pull requests merged</a>.</li>
<li>React Native enabled us to power both the iOS and Android Skype apps from the same codebase. We also want to use that codebase to power the Skype web app. To help us achieve that goal, we built and open sourced a thin layer on top of React/React Native called <a href="https://microsoft.github.io/reactxp/blog/2017/04/06/introducing-reactxp.html">ReactXP</a>. ReactXP provides a set of cross platform components that get mapped to React Native when targeting iOS/Android and to react-dom when targeting the web. ReactXP's goals are similar to another open source library called React Native for Web. There's a brief description of how the approaches of these libraries differ in the <a href="https://microsoft.github.io/reactxp/faq.md">ReactXP FAQ</a>.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="shoutem"></a><a href="#shoutem" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shoutem</h3>
<ul>
<li>We are continuing our efforts on improving and simplifying the developer experience when building apps using <a href="https://shoutem.github.io/">Shoutem</a>.</li>
<li>Started migrating all our apps to react-navigation, but we ended postponing this until a more stable version is released, or one of the native navigation solutions becomes stable.</li>
<li>Updating all our <a href="https://github.com/shoutem/extensions">extensions</a> and most of our open source libraries (<a href="https://github.com/shoutem/animation">animation</a>, <a href="https://github.com/shoutem/theme">theme</a>, <a href="https://github.com/shoutem/ui">ui</a>) to React Native 0.47.1.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="next-session"></a><a href="#next-session" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next session</h2>
<p>The next session is scheduled for Wednesday 13, September 2017. As this was only our third meeting, we'd like to know how do these notes benefit the React Native community. Feel free to ping me <a href="https://twitter.com/grabbou">on Twitter</a> if you have any suggestion on how we should improve the output of the meeting.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/08/07/react-native-performance-in-marketplace.html">React Native Performance in Marketplace</a></h1><p class="post-meta">August 7, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://www.facebook.com/aaronechiu" target="_blank">Aaron Chiu</a>Software Engineer at Facebook</p><div class="authorPhoto authorPhoto-big"><a href="https://www.facebook.com/aaronechiu" target="_blank"><img src="https://fb-s-d-a.akamaihd.net/h-ak-fbx/v/t1.0-9/185908_1738453495300_6268428_n.jpg?_nc_log=1&amp;oh=b0d497607c0d2012e88fde70cf4c7c7e&amp;oe=59ED387B&amp;__gda__=1509259466_d31a1cfbe282168c51f63019db5db391"/></a></div></div></header><article class="post-content"><div><span><p>React Native is used in multiple places across multiple apps in the Facebook family including a top level tab in the main Facebook apps. Our focus for this post is a highly visible product, <a href="https://newsroom.fb.com/news/2016/10/introducing-marketplace-buy-and-sell-with-your-local-community/">Marketplace</a>. It is available in a dozen or so countries and enables users to discover products and services provided by other users.</p>
<p>In the first half of 2017, through the joint effort of the Relay Team, the Marketplace team, the Mobile JS Platform team, and the React Native team, we cut Marketplace Time to Interaction (TTI) in half for Android <a href="https://code.facebook.com/posts/307478339448736/year-class-a-classification-system-for-android/">Year Class 2010-11 devices</a>. Facebook has historically considered these devices as low-end Android devices, and they have the slowest TTIs on any platform or device type.</p>
<p>A typical React Native startup looks something like this:</p>
<p><img src="/react-native/blog/assets/RNPerformanceStartup.png" alt=""></p>
<blockquote>
<p>Disclaimer: ratios aren't representative and will vary depending on how React Native is configured and used.</p>
</blockquote>
<p>We first initialize the React Native core (aka the “Bridge”) before running the product specific JavaScript which determines what native views React Native will render in the Native Processing Time.</p>
<h3><a class="anchor" aria-hidden="true" name="a-different-approach"></a><a href="#a-different-approach" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A different approach</h3>
<p>One of the earlier mistakes that we made was to let <a href="https://code.facebook.com/posts/747457662026706/performance-instrumentation-for-android-apps/">Systrace and CTScan</a> drive our performance efforts. These tools helped us find a lot of low-hanging fruit in 2016, but we discovered that both Systrace and CTScan are <strong>not representative of production scenarios</strong> and cannot emulate what happens in the wild. Ratios of time spent in the breakdowns are often incorrect and, wildly off-base at times. At the extreme, some things that we expected to take a few milliseconds actually take hundreds or thousands of milliseconds. That said, CTScan is useful and we've found it catches a third of regressions before they hit production.</p>
<p>On Android, we attribute the shortcomings of these tools to the fact that 1) React Native is a multithreaded framework, 2) Marketplace is co-located with a multitude of complex views such as Newsfeed and other top-level tabs, and 3) computation times vary wildly. Thus, this half, we let production measurements and breakdowns drive almost all of our decision making and prioritization.</p>
<h3><a class="anchor" aria-hidden="true" name="down-the-path-of-production-instrumentation"></a><a href="#down-the-path-of-production-instrumentation" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Down the path of production instrumentation</h3>
<p>Instrumenting production may sound simple on the surface, but it turned out to be quite a complex process. It took multiple iteration cycles of 2-3 weeks each; due to the latency of landing a commit in master, to pushing the app to the Play Store, to gathering sufficient production samples to have confidence in our work. Each iteration cycle involved discovering if our breakdowns were accurate, if they had the right level of granularity, and if they properly added up to the whole time span. We could not rely on alpha and beta releases because they are not representative of the general population. In essence, we very tediously built a very accurate production trace based on the aggregate of millions of samples.</p>
<p>One of the reasons we meticulously verified that every millisecond in breakdowns properly added up to their parent metrics was that we realized early on there were gaps in our instrumentation. It turned out that our initial breakdowns did not account for stalls caused by thread jumps. Thread jumps themselves aren't expensive, but thread jumps to busy threads already doing work are very expensive. We eventually reproduced these blockages locally by sprinkling <code>Thread.sleep()</code> calls at the right moments, and we managed to fix them by:</p>
<ol>
<li>removing our dependency on AsyncTask,</li>
<li>undoing the forced initialization of ReactContext and NativeModules on the UI thread, and</li>
<li>removing the dependency on measuring the ReactRootView at initialization time.</li>
</ol>
<p>Together, removing these thread blockage issues reduced the startup time by over 25%.</p>
<p>Production metrics also challenged some of our prior assumptions. For example, we used to pre-load many JavaScript modules on the startup path under the assumption that co-locating modules in one bundle would reduce their initialization cost. However, the cost of pre-loading and co-locating these modules far outweighed the benefits. By re-configuring our inline require blacklists and removing JavaScript modules from the startup path, we were able to avoid loading unnecessary modules such as Relay Classic (when only <a href="https://facebook.github.io/relay/new-in-relay-modern.md">Relay Modern</a> was necessary). Today, our <code>RUN_JS_BUNDLE</code> breakdown is over 75% faster.</p>
<p>We also found wins by investigating product-specific native modules. For example, by lazily injecting a native module's dependencies, we reduced that native module's cost by 98%. By removing the contention of Marketplace startup with other products, we reduced startup by an equivalent interval.</p>
<p>The best part is that many of these improvements are broadly applicable to all screens built with React Native.</p>
<h2><a class="anchor" aria-hidden="true" name="conclusion"></a><a href="#conclusion" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2>
<p>People assume that React Native startup performance problems are caused by JavaScript being slow or exceedingly high network times. While speeding up things like JavaScript would bring down TTI by a non-trivial sum, each of these contribute a much smaller percentage of TTI than was previously believed.</p>
<p>The lesson so far has been to <em>measure, measure, measure!</em> Some wins come from moving run-time costs to build time, such as Relay Modern and <a href="https://github.com/facebook/react-native/commit/797ca6c219b2a44f88f10c61d91e8cc21e2f306e">Lazy NativeModules</a>. Other wins come from avoiding work by being smarter about parallelizing code or removing dead code. And some wins come from large architectural changes to React Native, such as cleaning up thread blockages. There is no grand solution to performance, and longer-term performance wins will come from incremental instrumentation and improvements. Do not let cognitive bias influence your decisions. Instead, carefully gather and interpret production data to guide future work.</p>
<h2><a class="anchor" aria-hidden="true" name="future-plans"></a><a href="#future-plans" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Future plans</h2>
<p>In the long term, we want Marketplace TTI to be comparable to similar products built with Native, and, in general, have React Native performance on par with native performance. Further more, although this half we drastically reduced the bridge startup cost by about 80%, we plan to bring the cost of the React Native bridge close to zero via projects like <a href="https://prepack.io/">Prepack</a> and more build time processing.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/07/28/react-native-monthly-2.html">React Native Monthly #2</a></h1><p class="post-meta">July 28, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/tenodi" target="_blank">Tomislav Tenodi</a>Product Manager at Shoutem</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/tenodi" target="_blank"><img src="https://pbs.twimg.com/profile_images/877237660225609729/bKFDwfAq.jpg"/></a></div></div></header><article class="post-content"><div><span><p>The React Native monthly meeting continues! On this session, we were joined by <a href="https://infinite.red/">Infinite Red</a>, great minds behind <a href="https://infinite.red/ChainReactConf">Chain React, the React Native Conference</a>. As most of the people here were presenting talks at Chain React, we pushed the meeting to a week later. Talks from the conference have been <a href="https://www.youtube.com/playlist?list=PLFHvL21g9bk3RxJ1Ut5nR_uTZFVOxu522">posted online</a> and I encourage you to check them out. So, let's see what our teams are up to.</p>
<h2><a class="anchor" aria-hidden="true" name="teams"></a><a href="#teams" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Teams</h2>
<p>On this second meeting, we had 9 teams join us:</p>
<ul>
<li><a href="https://github.com/airbnb">Airbnb</a></li>
<li><a href="https://github.com/callstack-io">Callstack</a></li>
<li><a href="https://github.com/expo">Expo</a></li>
<li><a href="https://github.com/facebook">Facebook</a></li>
<li><a href="https://github.com/GeekyAnts">GeekyAnts</a></li>
<li><a href="https://github.com/infinitered">Infinite Red</a></li>
<li><a href="https://github.com/microsoft">Microsoft</a></li>
<li><a href="https://github.com/shoutem">Shoutem</a></li>
<li><a href="https://github.com/wix">Wix</a></li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="notes"></a><a href="#notes" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notes</h2>
<p>Here are the notes from each team:</p>
<h3><a class="anchor" aria-hidden="true" name="airbnb"></a><a href="#airbnb" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Airbnb</h3>
<ul>
<li>Check out the <a href="https://github.com/airbnb">Airbnb repository</a> for React Native related projects.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="callstack"></a><a href="#callstack" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callstack</h3>
<ul>
<li><a href="https://github.com/grabbou">Mike Grabowski</a> has been managing React Native's monthly releases as always, including a few betas that were pushed out. In particular, working on getting a v0.43.5 build published to npm since it unblocks Windows users!</li>
<li>Slow but consistent work is happening on <a href="https://github.com/callstack-io/haul">Haul</a>. There is a pull request that adds HMR, and other improvements have shipped. Recently got a few industry leaders to adopt it. Possibly planning to start a full-time paid work in that area.</li>
<li><a href="https://twitter.com/thymikee">Michał Pierzchała</a> from the <a href="https://github.com/facebook/jest">Jest</a> team has joined us at Callstack this month. He will help maintain <a href="https://github.com/callstack-io/haul">Haul</a> and possibly work on <a href="https://github.com/facebook/metro">Metro Bundler</a> and <a href="https://github.com/facebook/jest">Jest</a>.</li>
<li><a href="https://twitter.com/satya164">Satyajit Sahoo</a> is now with us, yay!</li>
<li>Got a bunch of cool stuff coming up from our OSS department. In particular, working on bringing Material Palette API to React Native. Planning to finally release our native iOS kit which is aimed to provide 1:1 look &amp; feel of native components.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="expo"></a><a href="#expo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expo</h3>
<ul>
<li>Recently launched <a href="https://native.directory">Native Directory</a> to help with discoverability and evaluation of libraries in React Native ecosystem. The problem: lots of libraries, hard to test, need to manually apply heuristics and not immediately obvious which ones are just the best ones that you should use. It's also hard to know if something is compatible with CRNA/Expo. So Native Directory tries to solve these problems. Check it out and <a href="https://github.com/react-community/native-directory">add your library</a> to it. The list of libraries is in <a href="https://github.com/react-community/native-directory/blob/master/react-native-libraries.json">here</a>. This is just our first pass of it, and we want this to be owned and run by the community, not just Expo folks. So please pitch in if you think this is valuable and want to make it better!</li>
<li>Added initial support for installing npm packages in <a href="https://snack.expo.io/">Snack</a> with Expo SDK 19. Let us know if you run into any issues with it, we are still working through some bugs. Along with Native Directory, this should make it easy to test libraries that have only JS dependencies, or dependencies included in <a href="https://github.com/expo/expo-sdk">Expo SDK</a>. Try it out:
<ul>
<li><a href="https://snack.expo.io/ByBCD_2r-">react-native-modal</a></li>
<li><a href="https://snack.expo.io/SJfJguhrW">react-native-animatable</a></li>
<li><a href="https://snack.expo.io/HkoXUdhr-">react-native-calendars</a></li>
</ul></li>
<li><a href="https://blog.expo.io/expo-sdk-v19-0-0-is-now-available-821a62b58d3d">Released Expo SDK19</a> with a bunch of improvements across the board, and we're now using the <a href="https://github.com/SoftwareMansion/jsc-android-buildscripts">updated Android JSC</a>.</li>
<li>Working on a guide in docs with <a href="https://github.com/frantic">Alexander Kotliarskyi</a> with a list of tips on how to improve the user experience of your app. Please join in and add to the list or help write some of it!
<ul>
<li>Issue: <a href="https://github.com/facebook/react-native/issues/14979">#14979</a></li>
<li>Initial pull request: <a href="https://github.com/facebook/react-native/pull/14993">#14993</a></li>
</ul></li>
<li>Continuing to work on: audio/video, camera, gestures (with Software Mansion, <code>react-native-gesture-handler</code>), GL camera integration and hoping to land some of these for the first time in SDK20 (August), and significant improvements to others by then as well. We're just getting started on building infrastructure into the Expo client for background work (geolocation, audio, handling notifications, etc.).</li>
<li><a href="https://twitter.com/skevy">Adam Miskiewicz</a> has made some nice progress on imitating the transitions from <a href="https://developer.apple.com/documentation/uikit/uinavigationcontroller">UINavigationController</a> in <a href="https://github.com/react-community/react-navigation">react-navigation</a>. Check out an earlier version of it in <a href="https://twitter.com/skevy/status/884932473070735361">his tweet</a> - release coming with it soon. Also check out <code>MaskedViewIOS</code> which he <a href="https://github.com/facebook/react-native/commit/8ea6cea39a3db6171dd74838a6eea4631cf42bba">upstreamed</a>. If you have the skills and desire to implement <code>MaskedView</code> for Android that would be awesome!</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="facebook"></a><a href="#facebook" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Facebook</h3>
<ul>
<li>Facebook is internally exploring being able to embed native <a href="http://componentkit.org/">ComponentKit</a> and <a href="https://fblitho.com/">Litho</a> components inside of React Native.</li>
<li>Contributions to React Native are very welcome! If you are wondering how you can contribute, the <a href="http://facebook.github.io/react-native/contributing.md">&quot;How to Contribute&quot; guide</a> describes our development process and lays out the steps to send your first pull request. There are other ways to contribute that do not require writing code, such as by triaging issues or updating the docs.
<ul>
<li>At the time of writing, React Native has <strong>635</strong> <a href="https://github.com/facebook/react-native/issues">open issues</a> and <strong>249</strong> <a href="https://github.com/facebook/react-native/pulls">open pull requests</a>. This is overwhelming for our maintainers, and when things get fixed internally, it is difficult to ensure the relevant tasks are updated.</li>
<li>We are unsure what the best approach is to handle this while keeping the community satisfied. Some (but not all!) options include closing stale issues, giving significantly more people permissions to manage issues, and automatically closing issues that do not follow the issue template. We wrote a <a href="http://facebook.github.io/react-native/maintainers.md">&quot;What to Expect from Maintainers&quot;</a> guide to set expectations and avoid surprises. If you have ideas on how we can make this experience better for maintainers as well as ensuring people opening issues and pull requests feel heard and valued, please let us know!</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="geekyants"></a><a href="#geekyants" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GeekyAnts</h3>
<ul>
<li>We demoed the Designer Tool which works with React Native files on Chain React. Many attendees signed up for the waiting list.</li>
<li>We are also looking at other cross-platform solutions like <a href="https://flutter.io/">Google Flutter</a> (a major comparison coming along), <a href="https://github.com/JetBrains/kotlin-native">Kotlin Native</a>, and <a href="https://weex.incubator.apache.org/">Apache Weex</a> to understand the architectural differences and what we can learn from them to improve the overall performance of React Native.</li>
<li>Switched to <a href="https://github.com/react-community/react-navigation">react-navigation</a> for most of our apps, which has improved the overall performance.</li>
<li>Also, announced <a href="https://market.nativebase.io/">NativeBase Market</a> - A marketplace for React Native components and apps (for and by the developers).</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="infinite-red"></a><a href="#infinite-red" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Infinite Red</h3>
<ul>
<li>We want to introduce the <a href="https://github.com/infinitered/reactotron">Reactotron</a>. Check out the <a href="https://www.youtube.com/watch?v=tPBRfxswDjA">introductory video</a>. We'll be adding more features very soon!</li>
<li>Organised Chain React Conference. It was awesome, thanks all for coming! <a href="https://www.youtube.com/playlist?list=PLFHvL21g9bk3RxJ1Ut5nR_uTZFVOxu522">The videos are now online!</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="microsoft"></a><a href="#microsoft" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Microsoft</h3>
<ul>
<li><a href="https://github.com/Microsoft/code-push">CodePush</a> has now been integrated into <a href="https://mobile.azure.com/">Mobile Center</a>. Existing users will have no change in their workflow.
<ul>
<li>Some people have reported an issue with duplicate apps - they already had an app on Mobile Center. We are working on resolving them, but if you have two apps, let us know, and we can merge them for you.</li>
</ul></li>
<li>Mobile Center now supports Push Notifications for CodePush. We also showed how a combination of Notifications and CodePush could be used for A/B testing apps - something unique to the ReactNative architecture.</li>
<li><a href="https://github.com/Microsoft/vscode">VSCode</a> has a known debugging issue with ReactNative - the next release of the extension in a couple of days will be fixing the issue.</li>
<li>Since there are many other teams also working on React Native inside Microsoft, we will work on getting better representation from all the groups for the next meeting.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="shoutem"></a><a href="#shoutem" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shoutem</h3>
<ul>
<li>Finished the process of making the React Native development easier on <a href="https://shoutem.github.io/">Shoutem</a>. You can use all the standard <code>react-native</code> commands when developing apps on Shoutem.</li>
<li>We did a lot of work trying to figure out how to best approach the profiling on React Native. A big chunk of <a href="https://facebook.github.io/react-native/performance.md">documentation</a> is outdated, and we'll do our best to create a pull request on the official docs or at least write some of our conclusions in a blog post.</li>
<li>Switching our navigation solution to <a href="https://github.com/react-community/react-navigation">react-navigation</a>, so we might have some feedback soon.</li>
<li>We released <a href="https://github.com/shoutem/ui/tree/develop/html">a new HTML component</a> in our toolkit which transforms the raw HTML to the React Native components tree.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="wix"></a><a href="#wix" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wix</h3>
<ul>
<li>We started working on a pull request to <a href="https://github.com/facebook/metro">Metro Bundler</a> with <a href="https://github.com/wix/react-native-repackager">react-native-repackager</a> capabilities. We updated react-native-repackager to support RN 44 (which we use in production). We are using it for our mocking infrastructure for <a href="https://github.com/wix/detox">detox</a>.</li>
<li>We have been covering the Wix app in detox tests for the last three weeks. It's an amazing learning experience of how to reduce manual QA in an app of this scale (over 40 engineers). We have resolved several issues with detox as a result, a new version was just published. I am happy to report that we are living up to the &quot;zero flakiness policy&quot; and the tests are passing consistently so far.</li>
<li>Detox for Android is moving forward nicely. We are getting significant help from the community. We are expecting an initial version in about two weeks.</li>
<li><a href="https://github.com/wix/detoxinstruments">DetoxInstruments</a>, our performance testing tool, is getting a little bigger than we originally intended. We are now planning to turn it into a standalone tool that will not be tightly coupled to detox. It will allow investigating the performance of iOS apps in general. It will also be integrated with detox so we can run automated tests on performance metrics.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="next-session"></a><a href="#next-session" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next session</h2>
<p>The next session is scheduled for August 16, 2017. As this was only our second meeting, we'd like to know how do these notes benefit the React Native community. Feel free to ping me <a href="https://twitter.com/TomislavTenodi">on Twitter</a> if you have any suggestion on how we should improve the output of the meeting.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/06/21/react-native-monthly-1.html">React Native Monthly #1</a></h1><p class="post-meta">June 21, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/tenodi" target="_blank">Tomislav Tenodi</a>Product Manager at Shoutem</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/tenodi" target="_blank"><img src="https://pbs.twimg.com/profile_images/877237660225609729/bKFDwfAq.jpg"/></a></div></div></header><article class="post-content"><div><span><p>At <a href="https://shoutem.github.io/">Shoutem</a>, we've been fortunate enough to work with React Native from its very beginnings. We decided we wanted to be part of the amazing community from day one. Soon enough, we realized it's almost impossible to keep up with the pace the community was growing and improving. That's why we decided to organize a monthly meeting where all major React Native contributors can briefly present what their efforts and plans are.</p>
<h2><a class="anchor" aria-hidden="true" name="monthly-meetings"></a><a href="#monthly-meetings" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Monthly meetings</h2>
<p>We had our first session of the monthly meeting on June 14, 2017. The mission for React Native Monthly is simple and straightforward: <strong>improve the React Native community</strong>. Presenting teams' efforts eases collaboration between teams done offline.</p>
<h2><a class="anchor" aria-hidden="true" name="teams"></a><a href="#teams" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Teams</h2>
<p>On the first meeting, we had 8 teams join us:</p>
<ul>
<li><a href="https://github.com/airbnb">Airbnb</a></li>
<li><a href="https://github.com/callstack-io">Callstack</a></li>
<li><a href="https://github.com/expo">Expo</a></li>
<li><a href="https://github.com/facebook">Facebook</a></li>
<li><a href="https://github.com/GeekyAnts">GeekyAnts</a></li>
<li><a href="https://github.com/microsoft">Microsoft</a></li>
<li><a href="https://github.com/shoutem">Shoutem</a></li>
<li><a href="https://github.com/wix">Wix</a></li>
</ul>
<p>We hope to have more core contributors join the upcoming sessions!</p>
<h2><a class="anchor" aria-hidden="true" name="notes"></a><a href="#notes" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Notes</h2>
<p>As teams' plans might be of interest to a broader audience, we'll be sharing them here, on the React Native blog. So, here they are:</p>
<h3><a class="anchor" aria-hidden="true" name="airbnb"></a><a href="#airbnb" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Airbnb</h3>
<ul>
<li>Plans to add some A11y (accessibility) APIs to <code>View</code> and the <code>AccessibilityInfo</code> native module.</li>
<li>Will be investigating adding some APIs to native modules on Android to allow for specifying threads for them to run on.</li>
<li>Have been investigating potential initialization performance improvements.</li>
<li>Have been investigating some more sophisticated bundling strategies to use on top of &quot;unbundle&quot;.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="callstack"></a><a href="#callstack" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Callstack</h3>
<ul>
<li>Looking into improving the release process by using <a href="https://github.com/wix/detox">Detox</a> for E2E testing. Pull request should land soon.</li>
<li>Blob pull request they have been working on has been merged, subsequent pull requests coming up.</li>
<li>Increasing <a href="https://github.com/callstack-io/haul">Haul</a> adoption across internal projects to see how it performs compared to <a href="http://github.com/facebook/metro-bundler">Metro Bundler</a>. Working on better multi-threaded performance with the Webpack team.</li>
<li>Internally, they have implemented a better infrastructure to manage open source projects. Plans to be getting more stuff out in upcoming weeks.</li>
<li>The React Native Europe conference is coming along, nothing interesting yet, but y'all invited!</li>
<li>Stepped back from <a href="https://github.com/react-community/react-navigation">react-navigation</a> for a while to investigate alternatives (especially native navigations).</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="expo"></a><a href="#expo" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Expo</h3>
<ul>
<li>Working on making it possible to install npm modules in <a href="https://snack.expo.io/">Snack</a>, will be useful for libraries to add examples to documentation.</li>
<li>Working with <a href="https://github.com/kmagiera">Krzysztof</a> and other people at <a href="https://github.com/softwaremansion">Software Mansion</a> on a JSC update on Android and a gesture handling library.</li>
<li><a href="https://github.com/skevy">Adam Miskiewicz</a> is transitioning his focus towards <a href="https://github.com/react-community/react-navigation">react-navigation</a>.</li>
<li><a href="https://github.com/react-community/create-react-native-app">Create React Native App</a> is in the <a href="https://facebook.github.io/react-native/getting-started.md">Getting Started guide</a> in the docs. Expo wants to encourage library authors to explain clearly whether their lib works with CRNA or not, and if so, explain how to set it up.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="facebook"></a><a href="#facebook" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Facebook</h3>
<ul>
<li>React Native's packager is now <a href="https://github.com/facebook/metro">Metro Bundler</a>, in an independent repo. The Metro Bundler team in London is excited to address the needs of the community, improve modularity for additional use-cases beyond React Native, and increase responsiveness on issues and PRs.</li>
<li>In the coming months, the React Native team will work on refining the APIs of primitive components. Expect improvements in layout quirks, accessibility, and flow typing.</li>
<li>The React Native team also plans on improving core modularity this year, by refactoring to fully support 3rd party platforms such as Windows and macOS.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="geekyants"></a><a href="#geekyants" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GeekyAnts</h3>
<ul>
<li>The team is working on a UI/UX design app (codename: Builder) which directly works with <code>.js</code> files. Right now, it supports only React Native. It’s similar to Adobe XD and Sketch.</li>
<li>The team is working hard so that you can load up an existing React Native app in the editor, make changes (visually, as a designer) and save the changes directly to the JS file.</li>
<li>Folks are trying to bridge the gap between Designers and Developers and bring them on the same repo.</li>
<li>Also, <a href="https://github.com/GeekyAnts/NativeBase">NativeBase</a> recently reached 5,000 GitHub stars.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="microsoft"></a><a href="#microsoft" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Microsoft</h3>
<ul>
<li><a href="https://github.com/Microsoft/code-push">CodePush</a> has now been integrated into <a href="https://mobile.azure.com/">Mobile Center</a>. This is the first step in providing a much more integrated experience with distribution, analytics and other services. See their announcement <a href="https://microsoft.github.io/code-push/articles/CodePushOnMobileCenter.html">here</a>.</li>
<li><a href="https://github.com/Microsoft/vscode">VSCode</a> has a bug with debugging, they are working on fixing that right now and will have a new build.</li>
<li>Investigating <a href="https://github.com/wix/detox">Detox</a> for Integration testing, looking at JSC Context to get variables alongside crash reports.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="shoutem"></a><a href="#shoutem" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shoutem</h3>
<ul>
<li>Making it easier to work on Shoutem apps with tools from the React Native community. You will be able to use all the React Native commands to run the apps created on <a href="https://shoutem.github.io/">Shoutem</a>.</li>
<li>Investigating profiling tools for React Native. They had a lot of problems setting it up and they will write some of the insights they discovered along the way.</li>
<li>Shoutem is working on making it easier to integrate React Native with existing native apps. They will document the concept that they developed internally in the company, in order to get the feedback from the community.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="wix"></a><a href="#wix" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wix</h3>
<ul>
<li>Working internally to adopt <a href="https://github.com/wix/detox">Detox</a> to move significant parts of the Wix app to &quot;zero manual QA&quot;. As a result, Detox is being used heavily in a production setting by dozens of developers and maturing rapidly.</li>
<li>Working to add support to the <a href="https://github.com/facebook/metro">Metro Bundler</a> for overriding any file extension during the build. Instead of just &quot;ios&quot; and &quot;android&quot;, it would support any custom extension like &quot;e2e&quot; or &quot;detox&quot;. Plans to use this for E2E mocking. There's already a library out called <a href="https://github.com/wix/react-native-repackager">react-native-repackager</a>, now working on a PR.</li>
<li>Investigating automation of performance tests. This is a new repo called <a href="https://github.com/wix/DetoxInstruments">DetoxInstruments</a>. You can take a look, it's being developed open source.</li>
<li>Working with a contributor from KPN on Detox for Android and supporting real devices.</li>
<li>Thinking about &quot;Detox as a platform&quot; to allow building other tools that need to automate the simulator/device. An example is <a href="https://github.com/storybooks/react-native-storybook">Storybook</a> for React Native or Ram's idea for integration testing.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="next-session"></a><a href="#next-session" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next session</h2>
<p>Meetings will be held every four weeks. The next session is scheduled for July 12, 2017. As we just started with this meeting, we'd like to know how do these notes benefit the React Native community. Feel free to ping me <a href="https://twitter.com/TomislavTenodi">on Twitter</a> if you have any suggestion on what we should cover in the following sessions, or how we should improve the output of the meeting.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/03/13/introducing-create-react-native-app.html">Introducing Create React Native App</a></h1><p class="post-meta">March 13, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/dikaiosune" target="_blank">Adam Perry</a>Software Engineer at Expo</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/dikaiosune" target="_blank"><img src="https://avatars2.githubusercontent.com/u/6812281"/></a></div></div></header><article class="post-content"><div><span><p>Today we’re announcing <a href="https://github.com/react-community/create-react-native-app">Create React Native App</a>: a new tool that makes it significantly easier to get started with a React Native project! It’s heavily inspired by the design of <a href="https://github.com/facebookincubator/create-react-app">Create React App</a> and is the product of a collaboration between <a href="https://code.facebook.com">Facebook</a> and <a href="https://expo.io">Expo</a> (formerly Exponent).</p>
<p>Many developers struggle with installing and configuring React Native’s current native build dependencies, especially for Android. With Create React Native App, there’s no need to use Xcode or Android Studio, and you can develop for your iOS device using Linux or Windows. This is accomplished using the Expo app, which loads and runs CRNA projects written in pure JavaScript without compiling any native code.</p>
<p>Try creating a new project (replace with suitable yarn commands if you have it installed):</p>
<pre><code class="hljs">$ <span class="hljs-string">npm </span>i -g <span class="hljs-built_in">create-react-native-app</span>
$ <span class="hljs-built_in">create-react-native-app</span> <span class="hljs-string">my-project
</span>$ <span class="hljs-string">cd </span><span class="hljs-string">my-project
</span>$ <span class="hljs-string">npm </span><span class="hljs-string">start
</span></code></pre>
<p>This will start the React Native packager and print a QR code. Open it in the <a href="https://expo.io">Expo app</a> to load your JavaScript. Calls to <code>console.log</code> are forwarded to your terminal. You can make use of any standard React Native APIs as well as the <a href="https://docs.expo.io/versions/latest/sdk/index.html">Expo SDK</a>.</p>
<h2><a class="anchor" aria-hidden="true" name="what-about-native-code"></a><a href="#what-about-native-code" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What about native code?</h2>
<p>Many React Native projects have Java or Objective-C/Swift dependencies that need to be compiled. The Expo app does include APIs for camera, video, contacts, and more, and bundles popular libraries like <a href="https://docs.expo.io/versions/v14.0.0/sdk/map-view.html">Airbnb’s react-native-maps</a>, or <a href="https://docs.expo.io/versions/latest/sdk/facebook.html">Facebook authentication</a>. However if you need a native code dependency that Expo doesn’t bundle then you’ll probably need to have your own build configuration for it. Just like Create React App, “ejecting” is supported by CRNA.</p>
<p>You can run <code>npm run eject</code> to get a project very similar to what <code>react-native init</code> would generate. At that point you’ll need Xcode and/or Android Studio just as you would if you started with <code>react-native init</code> , adding libraries with <code>react-native link</code> will work, and you’ll have full control over the native code compilation process.</p>
<h2><a class="anchor" aria-hidden="true" name="questions-feedback"></a><a href="#questions-feedback" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Questions? Feedback?</h2>
<p>Create React Native App is now stable enough for general use, which means we’re very eager to hear about your experience using it! You can find me <a href="https://twitter.com/dika10sune">on Twitter</a> or open an issue on <a href="https://github.com/react-community/create-react-native-app">the GitHub repository</a>. Pull requests are very welcome!</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/03/13/idx-the-existential-function.html">idx: The Existential Function</a></h1><p class="post-meta">March 13, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/yungsters" target="_blank">Timothy Yung</a>Engineering Manager at Facebook</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/yungsters" target="_blank"><img src="https://pbs.twimg.com/profile_images/1592444107/image.jpg"/></a></div></div></header><article class="post-content"><div><span><p>At Facebook, we often need to access deeply nested values in data structures fetched with GraphQL. On the way to accessing these deeply nested values, it is common for one or more intermediate fields to be nullable. These intermediate fields may be null for a variety of reasons, from failed privacy checks to the mere fact that null happens to be the most flexible way to represent non-fatal errors.</p>
<p>Unfortunately, accessing these deeply nested values is currently tedious and verbose.</p>
<pre><code class="hljs css javascript">props.user &amp;&amp;
  props.user.friends &amp;&amp;
  props.user.friends[<span class="hljs-number">0</span>] &amp;&amp;
  props.user.friends[<span class="hljs-number">0</span>].friends;
</code></pre>
<p>There is <a href="https://github.com/claudepache/es-optional-chaining">an ECMAScript proposal to introduce the existential operator</a> which will make this much more convenient. But until a time when that proposal is finalized, we want a solution that improves our quality of life, maintains existing language semantics, and encourages type safety with Flow.</p>
<p>We came up with an existential <em>function</em> we call <code>idx</code>.</p>
<pre><code class="hljs css javascript">idx(props, (_) =&gt; _.user.friends[<span class="hljs-number">0</span>].friends);
</code></pre>
<p>The invocation in this code snippet behaves similarly to the boolean expression in the code snippet above, except with significantly less repetition. The <code>idx</code> function takes exactly two arguments:</p>
<ul>
<li>Any value, typically an object or array into which you want to access a nested value.</li>
<li>A function that receives the first argument and accesses a nested value on it.</li>
</ul>
<p>In theory, the <code>idx</code> function will try-catch errors that are the result of accessing properties on null or undefined. If such an error is caught, it will return either null or undefined. (And you can see how this might be implemented in <a href="https://github.com/facebookincubator/idx/blob/master/packages/idx/src/idx.js">idx.js</a>.)</p>
<p>In practice, try-catching every nested property access is slow, and differentiating between specific kinds of TypeErrors is fragile. To deal with these shortcomings, we created a Babel plugin that transforms the above <code>idx</code> invocation into the following expression:</p>
<pre><code class="hljs css javascript">props.user == <span class="hljs-literal">null</span>
  ? props.user
  : props.user.friends == <span class="hljs-literal">null</span>
    ? props.user.friends
    : props.user.friends[<span class="hljs-number">0</span>] == <span class="hljs-literal">null</span>
      ? props.user.friends[<span class="hljs-number">0</span>]
      : props.user.friends[<span class="hljs-number">0</span>].friends;
</code></pre>
<p>Finally, we added a custom Flow type declaration for <code>idx</code> that allows the traversal in the second argument to be properly type-checked while permitting nested access on nullable properties.</p>
<p>The function, Babel plugin, and Flow declaration are now <a href="https://github.com/facebookincubator/idx">available on GitHub</a>. They are used by installing the <strong>idx</strong> and <strong>babel-plugin-idx</strong> npm packages, and adding “idx” to the list of plugins in your <code>.babelrc</code> file.</p>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/03/13/better-list-views.html">Better List Views in React Native</a></h1><p class="post-meta">March 13, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://github.com/sahrens" target="_blank">Spencer Ahrens</a>Software Engineer at Facebook</p><div class="authorPhoto authorPhoto-big"><a href="https://github.com/sahrens" target="_blank"><img src="https://avatars1.githubusercontent.com/u/1509831"/></a></div></div></header><article class="post-content"><div><span><p>Many of you have started playing with some of our new List components already after our <a href="https://www.facebook.com/groups/react.native.community/permalink/921378591331053">teaser announcement in the community group</a>, but we are officially announcing them today! No more <code>ListView</code>s or <code>DataSource</code>s, stale rows, ignored bugs, or excessive memory consumption - with the latest React Native March 2017 release candidate (<code>0.43-rc.1</code>) you can pick from the new suite of components what best fits your use-case, with great perf and feature sets out of the box:</p>
<h3><a class="anchor" aria-hidden="true" name="flatlist-https-facebookgithubio-react-native-releases-next-flatlistmd"></a><a href="#flatlist-https-facebookgithubio-react-native-releases-next-flatlistmd" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://facebook.github.io/react-native/releases/next/flatlist.md"><code>&lt;FlatList&gt;</code></a></h3>
<p>This is the workhorse component for simple, performant lists. Provide an array of data and a <code>renderItem</code> function and you're good to go:</p>
<pre><code class="hljs">&lt;FlatList
  data={[{title: <span class="hljs-string">'Title Text'</span>, key: <span class="hljs-string">'item1'</span>}, ...]}
  renderItem={({item}) =&gt; &lt;ListItem title={item.title} /&gt;}
/&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="sectionlist-https-facebookgithubio-react-native-releases-next-sectionlistmd"></a><a href="#sectionlist-https-facebookgithubio-react-native-releases-next-sectionlistmd" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://facebook.github.io/react-native/releases/next/sectionlist.md"><code>&lt;SectionList&gt;</code></a></h3>
<p>If you want to render a set of data broken into logical sections, maybe with section headers (e.g. in an alphabetical address book), and potentially with heterogeneous data and rendering (such as a profile view with some buttons followed by a composer, then a photo grid, then a friend grid, and finally a list of stories), this is the way to go.</p>
<pre><code class="hljs">&lt;SectionList
  renderItem={({item}) =&gt; &lt;ListItem title={item.title} /&gt;}
  renderSectionHeader={({section}) =&gt; &lt;H1 title={section.key} /&gt;}
  sections={[ <span class="hljs-comment">// homogeneous rendering between sections</span>
    {data: [...], key: ...},
    {data: [...], key: ...},
    {data: [...], key: ...},
  ]}
/&gt;

&lt;SectionList
  sections={[ <span class="hljs-comment">// heterogeneous rendering between sections</span>
    {data: [...], key: ..., renderItem: ...},
    {data: [...], key: ..., renderItem: ...},
    {data: [...], key: ..., renderItem: ...},
  ]}
/&gt;
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="virtualizedlist-https-facebookgithubio-react-native-releases-next-virtualizedlistmd"></a><a href="#virtualizedlist-https-facebookgithubio-react-native-releases-next-virtualizedlistmd" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><a href="https://facebook.github.io/react-native/releases/next/virtualizedlist.md"><code>&lt;VirtualizedList&gt;</code></a></h3>
<p>The implementation behind the scenes with a more flexible API. Especially handy if your data is not in a plain array (e.g. an immutable list).</p>
<h2><a class="anchor" aria-hidden="true" name="features"></a><a href="#features" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features</h2>
<p>Lists are used in many contexts, so we packed the new components full of features to handle the majority of use cases out of the box:</p>
<ul>
<li>Scroll loading (<code>onEndReached</code>).</li>
<li>Pull to refresh (<code>onRefresh</code> / <code>refreshing</code>).</li>
<li><a href="https://github.com/facebook/react-native/blob/master/Libraries/CustomComponents/Lists/ViewabilityHelper.js">Configurable</a> viewability (VPV) callbacks (<code>onViewableItemsChanged</code> / <code>viewabilityConfig</code>).</li>
<li>Horizontal mode (<code>horizontal</code>).</li>
<li>Intelligent item and section separators.</li>
<li>Multi-column support (<code>numColumns</code>)</li>
<li><code>scrollToEnd</code>, <code>scrollToIndex</code>, and <code>scrollToItem</code></li>
<li>Better Flow typing.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" name="some-caveats"></a><a href="#some-caveats" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Some Caveats</h3>
<ul>
<li><p>The internal state of item subtrees is not preserved when content scrolls out of the render window. Make sure all your data is captured in the item data or external stores like Flux, Redux, or Relay.</p></li>
<li><p>These components are based on <code>PureComponent</code> which means that they will not re-render if <code>props</code> remains shallow-equal. Make sure that everything your <code>renderItem</code> function depends on directly is passed as a prop that is not <code>===</code> after updates, otherwise your UI may not update on changes. This includes the <code>data</code> prop and parent component state. For example:</p>
<pre><code class="hljs css javascript">&lt;FlatList
  data={<span class="hljs-keyword">this</span>.state.data}
  renderItem={({item}) =&gt; (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyItem</span>
      <span class="hljs-attr">item</span>=<span class="hljs-string">{item}</span>
      <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span> =&gt;</span>
        this.setState((oldState) =&gt; ({
          selected: {
            // New instance breaks `===`
            ...oldState.selected, // copy old data
            [item.key]: !oldState.selected[item.key], // toggle
          },
        }))
      }
      selected={
        !!this.state.selected[item.key] // renderItem depends on state
      }
    /&gt;
  )}
  selected={
    // Can be any prop that doesn't collide with existing props
    this.state.selected // A change to selected should re-render FlatList
  }
/&gt;
</span></code></pre></li>
<li><p>In order to constrain memory and enable smooth scrolling, content is rendered asynchronously offscreen. This means it's possible to scroll faster than the fill rate and momentarily see blank content. This is a tradeoff that can be adjusted to suit the needs of each application, and we are working on improving it behind the scenes.</p></li>
<li><p>By default, these new lists look for a <code>key</code> prop on each item and use that for the React key. Alternatively, you can provide a custom <code>keyExtractor</code> prop.</p></li>
</ul>
<h2><a class="anchor" aria-hidden="true" name="performance"></a><a href="#performance" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Performance</h2>
<p>Besides simplifying the API, the new list components also have significant performance enhancements, the main one being nearly constant memory usage for any number of rows. This is done by 'virtualizing' elements that are outside of the render window by completely unmounting them from the component hierarchy and reclaiming the JS memory from the react components, along with the native memory from the shadow tree and the UI views. This has a catch which is that internal component state will not be preserved, so <strong>make sure you track any important state outside of the components themselves, e.g. in Relay or Redux or Flux store.</strong></p>
<p>Limiting the render window also reduces the amount of work that needs to be done by React and the native platform, e.g from view traversals. Even if you are rendering the last of a million elements, with these new lists there is no need to iterate through all those elements in order to render. You can even jump to the middle with <code>scrollToIndex</code> without excessive rendering.</p>
<p>We've also made some improvements with scheduling which should help with application responsiveness. Items at the edge of the render window are rendered infrequently and at a lower priority after any active gestures or animations or other interactions have completed.</p>
<h2><a class="anchor" aria-hidden="true" name="advanced-usage"></a><a href="#advanced-usage" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Usage</h2>
<p>Unlike <code>ListView</code>, all items in the render window are re-rendered any time any props change. Often this is fine because the windowing reduces the number of items to a constant number, but if your items are on the complex side, you should make sure to follow React best practices for performance and use <code>React.PureComponent</code> and/or <code>shouldComponentUpdate</code> as appropriate within your components to limit re-renders of the recursive subtree.</p>
<p>If you can calculate the height of your rows without rendering them, you can improve the user experience by providing the <code>getItemLayout</code> prop. This makes it much smoother to scroll to specific items with e.g. <code>scrollToIndex</code>, and will improve the scroll indicator UI because the height of the content can be determined without rendering it.</p>
<p>If you have an alternative data type, like an immutable list, <code>&lt;VirtualizedList&gt;</code> is the way to go. It takes a <code>getItem</code> prop that lets you return the item data for any given index and has looser flow typing.</p>
<p>There are also a bunch of parameters you can tweak if you have an unusual use case. For example, you can use <code>windowSize</code> to trade off memory usage vs. user experience, <code>maxToRenderPerBatch</code> to adjust fill rate vs. responsiveness, <code>onEndReachedThreshold</code> to control when scroll loading happens, and more.</p>
<h2><a class="anchor" aria-hidden="true" name="future-work"></a><a href="#future-work" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Future Work</h2>
<ul>
<li>Migration of existing surfaces (ultimately deprecation of <code>ListView</code>).</li>
<li>More features as we see/hear the need (let us know!).</li>
<li>Sticky section header support.</li>
<li>More performance optimizations.</li>
<li>Support functional item components with state.</li>
</ul>
</span></div></article></div><div class="post"><header class="postHeader"><h1><a href="/react-native/blog/2017/02/14/using-native-driver-for-animated.html">Using Native Driver for Animated</a></h1><p class="post-meta">February 14, 2017</p><div class="authorBlock"><p class="post-authorName"><a href="https://twitter.com/janicduplessis" target="_blank">Janic Duplessis</a>Software Engineer at App &amp; Flow</p><div class="authorPhoto authorPhoto-big"><a href="https://twitter.com/janicduplessis" target="_blank"><img src="https://secure.gravatar.com/avatar/8d6b6c0f5b228b0a8566a69de448b9dd?s=128"/></a></div></div></header><article class="post-content"><div><span><p>For the past year, we've been working on improving performance of animations that use the Animated library. Animations are very important to create a beautiful user experience but can also be hard to do right. We want to make it easy for developers to create performant animations without having to worry about some of their code causing it to lag.</p>
<h2><a class="anchor" aria-hidden="true" name="what-is-this"></a><a href="#what-is-this" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is this?</h2>
<p>The Animated API was designed with a very important constraint in mind, it is serializable. This means we can send everything about the animation to native before it has even started and allows native code to perform the animation on the UI thread without having to go through the bridge on every frame. It is very useful because once the animation has started, the JS thread can be blocked and the animation will still run smoothly. In practice this can happen a lot because user code runs on the JS thread and React renders can also lock JS for a long time.</p>
<h2><a class="anchor" aria-hidden="true" name="a-bit-of-history"></a><a href="#a-bit-of-history" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A bit of history...</h2>
<p>This project started about a year ago, when Expo built the li.st app on Android. <a href="https://twitter.com/kzzzf">Krzysztof Magiera</a> was contracted to build the initial implementation on Android. It ended up working well and li.st was the first app to ship with native driven animations using Animated. A few months later, <a href="https://github.com/buba447">Brandon Withrow</a> built the initial implementation on iOS. After that, <a href="https://twitter.com/ryangomba">Ryan Gomba</a> and myself worked on adding missing features like support for <code>Animated.event</code> as well as squash bugs we found when using it in production apps. This was truly a community effort and I would like to thanks everyone that was involved as well as Expo for sponsoring a large part of the development. It is now used by <code>Touchable</code> components in React Native as well as for navigation animations in the newly released <a href="https://github.com/react-community/react-navigation">React Navigation</a> library.</p>
<h2><a class="anchor" aria-hidden="true" name="how-does-it-work"></a><a href="#how-does-it-work" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How does it work?</h2>
<p>First, let's check out how animations currently work using Animated with the JS driver. When using Animated, you declare a graph of nodes that represent the animations that you want to perform, and then use a driver to update an Animated value using a predefined curve. You may also update an Animated value by connecting it to an event of a <code>View</code> using <code>Animated.event</code>.</p>
<p><img src="/react-native/blog/assets/animated-diagram.png" alt=""></p>
<p>Here's a breakdown of the steps for an animation and where it happens:</p>
<ul>
<li>JS: The animation driver uses <code>requestAnimationFrame</code> to execute on every frame and update the value it drives using the new value it calculates based on the animation curve.</li>
<li>JS: Intermediate values are calculated and passed to a props node that is attached to a <code>View</code>.</li>
<li>JS: The <code>View</code> is updated using <code>setNativeProps</code>.</li>
<li>JS to Native bridge.</li>
<li>Native: The <code>UIView</code> or <code>android.View</code> is updated.</li>
</ul>
<p>As you can see, most of the work happens on the JS thread. If it is blocked the animation will skip frames. It also needs to go through the JS to Native bridge on every frame to update native views.</p>
<p>What the native driver does is move all of these steps to native. Since Animated produces a graph of animated nodes, it can be serialized and sent to native only once when the animation starts, eliminating the need to callback into the JS thread; the native code can take care of updating the views directly on the UI thread on every frame.</p>
<p>Here's an example of how we can serialize an animated value and an interpolation node (not the exact implementation, just an example).</p>
<p>Create the native value node, this is the value that will be animated:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">NativeAnimatedModule</span><span class="hljs-selector-class">.createNode</span>({
  <span class="hljs-attribute">id</span>: <span class="hljs-number">1</span>,
  type: <span class="hljs-string">'value'</span>,
  initialValue: <span class="hljs-number">0</span>,
});
</code></pre>
<p>Create the native interpolation node, this tells the native driver how to interpolate a value:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">NativeAnimatedModule</span><span class="hljs-selector-class">.createNode</span>({
  <span class="hljs-attribute">id</span>: <span class="hljs-number">2</span>,
  type: <span class="hljs-string">'interpolation'</span>,
  inputRange: [<span class="hljs-number">0</span>, <span class="hljs-number">10</span>],
  outputRange: [<span class="hljs-number">10</span>, <span class="hljs-number">0</span>],
  extrapolate: <span class="hljs-string">'clamp'</span>,
});
</code></pre>
<p>Create the native props node, this tells the native driver which prop on the view it is attached to:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">NativeAnimatedModule</span><span class="hljs-selector-class">.createNode</span>({
  <span class="hljs-attribute">id</span>: <span class="hljs-number">3</span>,
  type: <span class="hljs-string">'props'</span>,
  properties: [<span class="hljs-string">'style.opacity'</span>],
});
</code></pre>
<p>Connect nodes together:</p>
<pre><code class="hljs">NativeAnimatedModule.connectNodes(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
NativeAnimatedModule.connectNodes(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
</code></pre>
<p>Connect the props node to a view:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">NativeAnimatedModule</span><span class="hljs-selector-class">.connectToView</span>(3, <span class="hljs-selector-tag">ReactNative</span><span class="hljs-selector-class">.findNodeHandle</span>(<span class="hljs-selector-tag">viewRef</span>));
</code></pre>
<p>With that, the native animated module has all the info it needs to update the native views directly without having to go to JS to calculate any value.</p>
<p>All there is left to do is actually start the animation by specifying what type of animation curve we want and what animated value to update. Timing animations can also be simplified by calculating every frame of the animation in advance in JS to make the native implementation smaller.</p>
<pre><code class="hljs"><span class="hljs-selector-tag">NativeAnimatedModule</span><span class="hljs-selector-class">.startAnimation</span>({
  <span class="hljs-attribute">type</span>: <span class="hljs-string">'timing'</span>,
  frames: [<span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0.65</span>, ...],
  animatedValueId: <span class="hljs-number">1</span>,
});
</code></pre>
<p>And now here's the breakdown of what happens when the animation runs:</p>
<ul>
<li>Native: The native animation driver uses <code>CADisplayLink</code> or <code>android.view.Choreographer</code> to execute on every frame and update the value it drives using the new value it calculates based on the animation curve.</li>
<li>Native: Intermediate values are calculated and passed to a props node that is attached to a native view.</li>
<li>Native: The <code>UIView</code> or <code>android.View</code> is updated.</li>
</ul>
<p>As you can see, no more JS thread and no more bridge which means faster animations! 🎉🎉</p>
<h2><a class="anchor" aria-hidden="true" name="how-do-i-use-this-in-my-app"></a><a href="#how-do-i-use-this-in-my-app" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How do I use this in my app?</h2>
<p>For normal animations the answer is simple, just add <code>useNativeDriver: true</code> to the animation config when starting it.</p>
<p>Before:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">Animated</span><span class="hljs-selector-class">.timing</span>(<span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.state</span><span class="hljs-selector-class">.animatedValue</span>, {
  <span class="hljs-attribute">toValue</span>: <span class="hljs-number">1</span>,
  duration: <span class="hljs-number">500</span>,
})<span class="hljs-selector-class">.start</span>();
</code></pre>
<p>After:</p>
<pre><code class="hljs"><span class="hljs-selector-tag">Animated</span><span class="hljs-selector-class">.timing</span>(<span class="hljs-selector-tag">this</span><span class="hljs-selector-class">.state</span><span class="hljs-selector-class">.animatedValue</span>, {
  <span class="hljs-attribute">toValue</span>: <span class="hljs-number">1</span>,
  duration: <span class="hljs-number">500</span>,
  useNativeDriver: true, // &lt;-- Add this
})<span class="hljs-selector-class">.start</span>();
</code></pre>
<p>Animated values are only compatible with one driver so if you use native driver when starting an animation on a value, make sure every animation on that value also uses the native driver.</p>
<p>It also works with <code>Animated.event</code>, this is very useful if you have an animation that must follow the scroll position because without the native driver it will always run a frame behind of the gesture because of the async nature of React Native.</p>
<p>Before:</p>
<pre><code class="hljs">&lt;ScrollView
  scrollEventThrottle={<span class="hljs-number">16</span>}
  onScroll={Animated.event(
    [{ nativeEvent: { contentOffset: { y: this.state.animatedValue } } }]
  )}
&gt;
  {content}
&lt;/ScrollView&gt;
</code></pre>
<p>After:</p>
<pre><code class="hljs">&lt;Animated<span class="hljs-selector-class">.ScrollView</span> <span class="hljs-comment">// &lt;-- Use the Animated ScrollView wrapper</span>
  scrollEventThrottle={<span class="hljs-number">1</span>} <span class="hljs-comment">// &lt;-- Use 1 here to make sure no events are ever missed</span>
  onScroll={Animated.event(
    [{ nativeEvent: { contentOffset: { y: this<span class="hljs-selector-class">.state</span><span class="hljs-selector-class">.animatedValue</span> } } }],
    { useNativeDriver: true } <span class="hljs-comment">// &lt;-- Add this</span>
  )}
&gt;
  {<span class="hljs-attribute">content</span>}
&lt;/Animated.ScrollView&gt;
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="caveats"></a><a href="#caveats" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Caveats</h2>
<p>Not everything you can do with Animated is currently supported in Native Animated. The main limitation is that you can only animate non-layout properties, things like <code>transform</code> and <code>opacity</code> will work but flexbox and position properties won't. Another one is with <code>Animated.event</code>, it will only work with direct events and not bubbling events. This means it does not work with <code>PanResponder</code> but does work with things like <code>ScrollView#onScroll</code>.</p>
<p>Native Animated has also been part of React Native for quite a while but has never been documented because it was considered experimental. Because of that make sure you are using a recent version (0.40+) of React Native if you want to use this feature.</p>
<h2><a class="anchor" aria-hidden="true" name="resources"></a><a href="#resources" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Resources</h2>
<p>For more information about animated I recommend watching <a href="https://www.youtube.com/watch?v=xtqUJVqpKNo">this talk</a> by <a href="https://twitter.com/Vjeux">Christopher Chedeau</a>.</p>
<p>If you want a deep dive into animations and how offloading them to native can improve user experience there is also <a href="https://www.youtube.com/watch?v=qgSMjYWqBk4">this talk</a> by <a href="https://twitter.com/kzzzf">Krzysztof Magiera</a>.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-next" href="/react-native/blog/page2/">Next →</a></div></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/react-native/" class="nav-home"><img src="/react-native/img/header_logo.png" alt="React Native" width="66" height="58"/></a><div><h5><a href="/react-native/docs/getting-started.html">Docs</a></h5><a href="/react-native/docs/getting-started.html">Getting Started</a><a href="/react-native/docs/tutorial.html">Learn the Basics</a><a href="/react-native/docs/components-and-apis.html">Components and APIs</a><a href="/react-native/docs/more-resources.html">More Resources</a></div><div><h5><a href="/react-native/help.html">Community</a></h5><a href="/react-native/showcase.html">Who&#x27;s using React Native?</a><a href="http://www.meetup.com/topics/react-native/" target="_blank">Meetups</a><a href="https://www.facebook.com/groups/react.native.community" target="_blank">Facebook Group</a><a href="https://twitter.com/reactnative" target="_blank">Twitter</a></div><div><h5><a href="/react-native/help.html">Help</a></h5><a href="http://stackoverflow.com/questions/tagged/react-native" target="_blank">Stack Overflow</a><a href="https://discord.gg/0ZcbPKXt5bZjGY5n">Reactiflux Chat</a><a href="/react-native/versions.html" target="_blank">Latest Releases</a><a href="https://react-native.canny.io/feature-requests" target="_blank">Feature Requests</a></div><div><h5>More</h5><a href="/react-native/blog">Blog</a><a href="http://reactjs.org" target="_blank">React</a><a href="https://github.com/facebook/react-native" target="_blank">GitHub</a><div class="githubButton"><a class="github-button" href="https://github.com/facebook/react-native" data-icon="octicon-star" data-show-count="true" data-count-href="/facebook/react-native/stargazers" data-count-api="/repos/facebook/react-native#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/react-native on GitHub">Star</a></div></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/react-native/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-41298772-2', 'auto');
              ga('send', 'pageview');
            </script><script>window.fbAsyncInit = function() {FB.init({appId:'1677033832619985',xfbml:true,version:'v2.7'});};(function(d, s, id){var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) {return;}js = d.createElement(s); js.id = id;js.src = '//connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js, fjs);}(document, 'script','facebook-jssdk'));
                </script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src='https://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, 'script', 'twitter-wjs'));</script><script>
              var search = docsearch({
                apiKey: '2c98749b4a1e588efec53b2acec13025',
                indexName: 'react-native-versions',
                inputSelector: '#search_input_react',
                algoliaOptions: {"facetFilters":["tags:0.52-RC"],"hitsPerPage":5}
              });
            </script></body></html>